{"ast":null,"code":"import _classCallCheck from\"/home/kiko/Escritorio/latin-words/ReactProject/latinwords/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/kiko/Escritorio/latin-words/ReactProject/latinwords/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/kiko/Escritorio/latin-words/ReactProject/latinwords/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/kiko/Escritorio/latin-words/ReactProject/latinwords/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={query:null,posts:[],satus:null,currentPage:0,stepSize:5};_this.getPosts=function(){var endpoint='https://jsonplaceholder.typicode.com/posts';axios.get(endpoint).then(function(res){_this.setState({posts:res.data,status:'success'});}).catch(function(err){_this.setState({posts:[],status:'failed'});});};_this.getQuery=function(){var query=_this.props.match.params.query;_this.setState({query:query});};_this.getFilteredList=function(){var posts=_this.state.posts;var query=_this.state.query;var filteredList=posts.filter(function(post){return post.title.includes(query)||post.body.includes(query);});return filteredList;};_this.increasePage=function(){var nextPage=_this.state.currentPage+1;var stepSize=_this.state.stepSize;if(nextPage*stepSize<_this.getFilteredList().length){_this.setState({currentPage:nextPage});}};_this.decreasePage=function(){var previousPage=_this.state.currentPage-1;var stepSize=_this.state.stepSize;if(previousPage*stepSize>=0){_this.setState({currentPage:previousPage});}};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){this.getPosts();this.getQuery();}},{key:\"render\",value:function render(){var stepSize=this.state.stepSize;var strPostIndex=this.state.currentPage*stepSize;if(this.state.posts.length>0){var filteredList=this.getFilteredList();if(filteredList.length==0){return/*#__PURE__*/_jsx(\"div\",{className:\"container canvas mt-5 py-5\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-center\",children:\"No se han encontrado elementos.\"})});}var filteredPosts=filteredList.slice(strPostIndex,strPostIndex+stepSize).map(function(post,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:'/comments/'+post.id,children:/*#__PURE__*/_jsx(\"h4\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"strong\",{children:post.title.toUpperCase()})})}),/*#__PURE__*/_jsx(\"h5\",{className:\"my-4\",children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"i\",{children:post.body})})}),/*#__PURE__*/_jsx(\"hr\",{})]},index);});return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container canvas mt-3 p-5\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center \",children:[\"\\\"\",this.state.query,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-1 text-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.decreasePage,children:\"anterior\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-3\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"P\\xE1gina \",this.state.currentPage+1]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.increasePage,children:\"pr\\xF3xima\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container canvas mt-3 p-3\",children:filteredPosts})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"cargando...\"})});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/home/kiko/Escritorio/latin-words/ReactProject/latinwords/src/components/Search.js"],"names":["React","Component","Link","axios","Search","state","query","posts","satus","currentPage","stepSize","getPosts","endpoint","get","then","res","setState","data","status","catch","err","getQuery","props","match","params","getFilteredList","filteredList","filter","post","title","includes","body","increasePage","nextPage","length","decreasePage","previousPage","strPostIndex","filteredPosts","slice","map","index","id","toUpperCase"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\n\nclass Search extends Component {\n\n    state = {\n        query: null,\n        posts: [],\n        satus: null,\n        currentPage: 0,\n        stepSize: 5\n    };\n\n    componentDidMount() {\n        this.getPosts();\n        this.getQuery();\n    }\n\n    getPosts = () => {\n        let endpoint = 'https://jsonplaceholder.typicode.com/posts';\n        axios.get(endpoint)\n            .then((res) => {\n                this.setState({\n                    posts: res.data,\n                    status: 'success'\n                });\n            }).catch((err) => {\n                this.setState({\n                    posts: [],\n                    status: 'failed'\n                });\n            });\n    };\n\n    getQuery = () => {\n        let query = this.props.match.params.query;\n        this.setState({\n            query: query\n        });\n    };\n\n    getFilteredList = () => {\n        let posts = this.state.posts;\n        let query = this.state.query;\n\n        let filteredList = posts.filter((post) => {\n            return (post.title.includes(query) || post.body.includes(query));\n        });\n\n        return filteredList;\n    };\n\n    increasePage = () => {\n        let nextPage = this.state.currentPage + 1;\n        let stepSize = this.state.stepSize;\n\n        if (nextPage * stepSize < this.getFilteredList().length) {\n            this.setState({\n                currentPage: nextPage\n            });\n        }\n    };\n\n    decreasePage = () => {\n        let previousPage = this.state.currentPage - 1;\n        let stepSize = this.state.stepSize;\n\n        if (previousPage * stepSize >= 0) {\n            this.setState({\n                currentPage: previousPage\n            });\n        }\n    };\n\n    render() {\n        let stepSize = this.state.stepSize;\n        let strPostIndex = this.state.currentPage * stepSize;\n\n        if (this.state.posts.length > 0) {\n\n            let filteredList = this.getFilteredList();\n            if (filteredList.length == 0) {\n                return (\n                    <div className=\"container canvas mt-5 py-5\">\n                        <h4 className=\"text-center\">No se han encontrado elementos.</h4>\n                    </div>\n                );\n            }\n\n            let filteredPosts = filteredList.slice(strPostIndex, strPostIndex + stepSize)\n                .map((post, index) => {\n                    return (\n                        <div key={index}>\n                            <Link to={'/comments/' + post.id}>\n                                <h4 className=\"mt-4\"><strong>{post.title.toUpperCase()}</strong></h4>\n                            </Link>\n\n                            <h5 className=\"my-4\"><strong><i>{post.body}</i></strong></h5>\n                            <hr />\n                        </div>\n                    );\n                });\n\n            return (\n                <React.Fragment >\n                    <div className=\"container canvas mt-3 p-5\">\n                        <h1 className=\"text-center \">\"{this.state.query}\"</h1>\n\n                        <div className=\"my-1 text-center\">\n                            <button className=\"btn btn-primary\" onClick={this.decreasePage}>anterior</button>\n                            <span className=\"mx-3\"><strong>Página {this.state.currentPage+1}</strong></span>\n                            <button className=\"btn btn-primary\" onClick={this.increasePage}>próxima</button>\n                        </div>\n                    </div>\n\n                    <div className=\"container canvas mt-3 p-3\">\n                        {filteredPosts}\n                    </div>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <div className=\"container\">\n                <h3 className=\"text-center\">cargando...</h3>\n            </div>\n        );\n    };\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}